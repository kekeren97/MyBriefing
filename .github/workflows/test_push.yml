name: Daily Productivity Auto-Web
on:
  schedule:
    - cron: '0 1 * * *' # æ¯å¤©åŒ—äº¬æ—¶é—´æ—©ä¸Š 9 ç‚¹
  workflow_dispatch:

jobs:
  build-and-push:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Create Daily Webpage
        run: |
          cat <<EOF > index.html
          <!DOCTYPE html>
          <html lang="zh-CN">
          <head>
              <meta charset="UTF-8">
              <title>Productivity Digest | 2026-01-20</title>
              <script src="https://cdn.tailwindcss.com"></script>
              <link href="https://fonts.googleapis.com/css2?family=Inter&family=Noto+Serif+SC:wght@700&display=swap" rel="stylesheet">
              <style>
                  body { font-family: 'Inter', sans-serif; background: #F9FAFB; }
                  .serif { font-family: 'Noto Serif SC', serif; }
                  .card { background: white; border-radius: 12px; padding: 24px; border-top: 4px solid #336DF4; transition: 0.3s; }
                  .card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
              </style>
          </head>
          <body class="p-8 max-w-4xl mx-auto">
              <header class="flex justify-between items-end border-b pb-6 mb-12">
                  <h1 class="serif text-4xl font-bold">Productivity Digest</h1>
                  <span class="text-blue-600 font-mono">2026.01.20</span>
              </header>
              <div class="bg-white p-8 rounded-3xl mb-10 shadow-sm border border-gray-100">
                  <h2 class="serif text-2xl mb-4">ä»Šæ—¥ç„¦ç‚¹ï¼šä»â€œAI åŠ©æ‰‹â€åˆ°â€œè‡ªä¸»ä»£ç†â€çš„ä¸´ç•Œç‚¹</h2>
                  <p class="text-gray-600 leading-relaxed">ä»Šæ—¥è§‚å¯Ÿåˆ° Microsoft ä¸ é£ä¹¦ å‡ ä¹åŒæ—¶å‘å¸ƒäº†â€œé•¿ä»»åŠ¡ Agentâ€æ¶æ„ã€‚AI ä¸å†åªæ˜¯ç­‰å¾…æŒ‡ä»¤ï¼Œè€Œæ˜¯å¼€å§‹åœ¨åå°è·¨åº”ç”¨å¤„ç†ä»»åŠ¡ã€‚</p>
              </div>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div class="card">
                      <h3 class="font-bold text-lg mb-3">Microsoft 365</h3>
                      <p class="text-gray-600 text-sm italic">"Copilot Parallel Execution"</p>
                      <ul class="text-sm mt-4 text-gray-500 space-y-2">
                          <li>â€¢ æ¨å‡º Copilot å…¨è‡ªåŠ¨åŒ–åå°ä»»åŠ¡ã€‚</li>
                          <li>â€¢ æ–°ç‰ˆ Outlook æ”¯æŒæ„å›¾ä¼˜å…ˆçº§æ’åºã€‚</li>
                      </ul>
                      <a href="https://www.microsoft.com/en-us/microsoft-365/blog/" class="text-blue-600 text-xs mt-4 block">æŸ¥çœ‹è¯¦æƒ… â†’</a>
                  </div>
                  <div class="card" style="border-top-color: #336DF4;">
                      <h3 class="font-bold text-lg mb-3">é£ä¹¦ (Lark)</h3>
                      <p class="text-gray-600 text-sm italic">"å¤šç»´è¡¨æ ¼ AI èŠ‚ç‚¹"</p>
                      <ul class="text-sm mt-4 text-gray-500 space-y-2">
                          <li>â€¢ æ–°å¢ AI è‡ªåŠ¨åŒ–è®¡ç®—èŠ‚ç‚¹ã€‚</li>
                          <li>â€¢ å®æ—¶ç¿»è¯‘å¼•æ“å‡çº§ã€‚</li>
                      </ul>
                      <a href="https://www.feishu.cn/hc/zh-CN/articles/360049067754" class="text-blue-600 text-xs mt-4 block">æŸ¥çœ‹è¯¦æƒ… â†’</a>
                  </div>
              </div>
          </body>
          </html>
          EOF

      - name: Commit and Push
        run: |
          git config --global user.name "github-actions"
          git config --global user.email "action@github.com"
          git add index.html
          git commit -m "Update daily report"
          git push

      - name: Send to WPS
        run: |
          curl -L -X POST "https://365.kdocs.cn/woa/api/v1/webhook/send?key=ff212f0845bcd36b168a850730de77fa" \
          -H "Content-Type: application/json" \
          -d "{\"msgtype\":\"text\",\"text\":{\"content\":\"ğŸš€ Productivity Digest | ä»Šæ—¥æ—¥æŠ¥å·²ç”Ÿæˆ\n\nä»Šæ—¥æ ¸å¿ƒï¼šAI ä»£ç†åŒ–æµªæ½®å¸­å·åä½œå·¥å…·ã€‚\n\nğŸ”— ç‚¹å‡»ä¸‹æ–¹é“¾æ¥ç›´æ¥æŸ¥çœ‹ç²¾ç¾ç½‘é¡µç‰ˆï¼š\nhttps://kekeren97.github.io/MyBriefing/\"}}"
