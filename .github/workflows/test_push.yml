name: Daily Productivity Final Build
on:
  schedule:
    - cron: '0 1 * * *'
  workflow_dispatch:

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Generate Daily Webpage
        run: |
          cat <<EOF > index.html
          <!DOCTYPE html>
          <html lang="zh-CN">
          <head>
              <meta charset="UTF-8">
              <title>Productivity Digest | 2026.01.20</title>
              <script src="https://cdn.tailwindcss.com"></script>
              <link href="https://fonts.googleapis.com/css2?family=Inter&family=Noto+Serif+SC:wght@700&display=swap" rel="stylesheet">
              <style>
                  body { font-family: 'Inter', sans-serif; background: #F9FAFB; }
                  .serif { font-family: 'Noto Serif SC', serif; }
                  .card { background: white; border-radius: 12px; padding: 24px; border-top: 4px solid #336DF4; transition: 0.3s; display: flex; flex-direction: column; justify-content: space-between; }
                  .card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
              </style>
          </head>
          <body class="p-8 max-w-7xl mx-auto text-gray-900">
              <header class="flex justify-between items-end border-b pb-6 mb-12">
                  <div>
                      <h1 class="serif text-4xl font-bold">Productivity Digest</h1>
                      <p class="text-gray-400 text-sm mt-2 font-medium uppercase tracking-widest">åä½œå·¥å…·æ¯æ—¥æ›´æ–° Â· ç‰ˆæœ¬ V2.0</p>
                  </div>
                  <span class="text-blue-600 font-mono text-lg font-bold">2026.01.20</span>
              </header>

              <div class="bg-white p-10 rounded-[2rem] mb-12 shadow-sm border border-gray-100">
                  <h2 class="serif text-3xl mb-6 text-blue-800">ä»Šæ—¥ç„¦ç‚¹ï¼šä»â€œAI åŠ©æ‰‹â€åˆ°â€œè‡ªä¸»ä»£ç†â€çš„è·¨è¶Š</h2>
                  <p class="text-gray-600 leading-relaxed text-lg">ä»Šæ—¥è§‚å¯Ÿï¼šMicrosoft ä¸ Slack å‡ ä¹åŒæ—¶å®Œæˆäº† Agent ä»»åŠ¡é—­ç¯ã€‚AI ä¸å†åªæ˜¯æ€»ç»“ä¼šè®®ï¼Œè€Œæ˜¯å¼€å§‹åœ¨åå°è‡ªä¸»å¤„ç†å®¡æ‰¹å¹¶åŒæ­¥æ•°æ®ã€‚åä½œå·¥å…·æ­£æ­£å¼æˆä¸ºä¼ä¸šçš„æ•°å­—åŒäº‹ã€‚</p>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                  <div class="card" style="border-top-color: #00A4EF;">
                      <div>
                          <h3 class="font-bold text-xl mb-2 text-gray-900">Microsoft 365</h3>
                          <p class="text-gray-400 text-xs italic mb-4">"Copilot Parallel Execution"</p>
                          <ul class="text-sm text-gray-600 space-y-3 mb-6">
                              <li>â€¢ Outlook Copilot æ”¯æŒè‡ªåŠ¨åè°ƒå†²çªæ—¥å†å¹¶ä»£æ‹Ÿé“æ­‰å‡½ã€‚</li>
                              <li>â€¢ Teams è§†é¢‘é€šè¯èƒ½è€—é™ä½ 25%ã€‚</li>
                          </ul>
                      </div>
                      <a href="https://www.microsoft.com/en-us/microsoft-365/blog/" target="_blank" class="text-blue-600 text-xs font-bold uppercase tracking-widest">æŸ¥çœ‹è¯¦æƒ… â†’</a>
                  </div>

                  <div class="card" style="border-top-color: #336DF4;">
                      <div>
                          <h3 class="font-bold text-xl mb-2 text-gray-900">é£ä¹¦ (Lark)</h3>
                          <p class="text-gray-400 text-xs italic mb-4">"å¤šç»´è¡¨æ ¼ AI èŠ‚ç‚¹"</p>
                          <ul class="text-sm text-gray-600 space-y-3 mb-6">
                              <li>â€¢ è‡ªåŠ¨åŒ–è®¡ç®—èŠ‚ç‚¹ï¼Œè¯­éŸ³å³å¯é…ç½®å®¡æ‰¹æµç¨‹ã€‚</li>
                              <li>â€¢ å®æ—¶ç¿»è¯‘å¼•æ“å‡çº§ï¼Œæ”¯æŒ 12 ç§æ–¹è¨€ååŒã€‚</li>
                          </ul>
                      </div>
                      <a href="https://www.feishu.cn/hc/zh-CN/articles/360049067754" target="_blank" class="text-blue-600 text-xs font-bold uppercase tracking-widest">æŸ¥çœ‹è¯¦æƒ… â†’</a>
                  </div>

                  <div class="card" style="border-top-color: #4A154B;">
                      <div>
                          <h3 class="font-bold text-xl mb-2 text-gray-900">Slack</h3>
                          <p class="text-gray-400 text-xs italic mb-4">"Salesforce AI Agent"</p>
                          <ul class="text-sm text-gray-600 space-y-3 mb-6">
                              <li>â€¢ é¢‘é“å†…ç›´æ¥å¤„ç† CRM é”€æœºé¢„æµ‹ã€‚</li>
                              <li>â€¢ Canvas æ”¯æŒåµŒå…¥ç¬¬ä¸‰æ–¹å®æ—¶ç›‘æ§ä»ªè¡¨ç›˜ã€‚</li>
                          </ul>
                      </div>
                      <a href="https://slack.com/release-notes" target="_blank" class="text-blue-600 text-xs font-bold uppercase tracking-widest">æŸ¥çœ‹è¯¦æƒ… â†’</a>
                  </div>

                  <div class="card" style="border-top-color: #007FFF;">
                      <div>
                          <h3 class="font-bold text-xl mb-2 text-gray-900">é’‰é’‰ (DingTalk)</h3>
                          <p class="text-gray-400 text-xs italic mb-4">"AI Agent Store 2.0"</p>
                          <ul class="text-sm text-gray-600 space-y-3 mb-6">
                              <li>â€¢ ä¸ªäºº Agent å•†åº—ä¸Šçº¿ï¼Œæ”¯æŒè‡ªå®šä¹‰è¡Œæ”¿åˆ†èº«ã€‚</li>
                              <li>â€¢ å®œæ­æ”¯æŒâ€œè‰å›¾è½¬åº”ç”¨â€ï¼Œç™½æ¿æ‰‹ç»˜å³å¯ç”Ÿæˆã€‚</li>
                          </ul>
                      </div>
                      <a href="https://www.dingtalk.com/sitemap/product-updates" target="_blank" class="text-blue-600 text-xs font-bold uppercase tracking-widest">æŸ¥çœ‹è¯¦æƒ… â†’</a>
                  </div>

                  <div class="card" style="border-top-color: #1677FF;">
                      <div>
                          <h3 class="font-bold text-xl mb-2 text-gray-900">ä¼ä¸šå¾®ä¿¡</h3>
                          <p class="text-gray-400 text-xs italic mb-4">"è¿æ¥åŠ›è¿›åŒ–"</p>
                          <ul class="text-sm text-gray-600 space-y-3 mb-6">
                              <li>â€¢ å¾®ä¿¡å®¢æœ AI åŒ–å‡çº§ï¼Œæ”¯æŒå…¨å¤©å€™æ‹ŸäººåŒ–å“åº”ã€‚</li>
                              <li>â€¢ å®¡æ‰¹æµå¤„ç†å¤§å‹å¹¶å‘é€Ÿåº¦æå‡ 40%ã€‚</li>
                          </ul>
                      </div>
                      <a href="https://work.weixin.qq.com/nl/act/p/07e86851b439818b" target="_blank" class="text-blue-600 text-xs font-bold uppercase tracking-widest">æŸ¥çœ‹è¯¦æƒ… â†’</a>
                  </div>

                  <div class="card" style="border-top-color: #EA4335;">
                      <div>
                          <h3 class="font-bold text-xl mb-2 text-gray-900">Google Workspace</h3>
                          <p class="text-gray-400 text-xs italic mb-4">"Gemini Deep Integration"</p>
                          <ul class="text-sm text-gray-600 space-y-3 mb-6">
                              <li>â€¢ Gemini in Docs æ”¯æŒå®æ—¶æ£€æµ‹æ–‡å†…å¼•ç”¨æ•°æ®æ—¶æ•ˆã€‚</li>
                              <li>â€¢ Sheets å‘å¸ƒâ€œé¢„æµ‹æ€§å¡«å……â€åŠŸèƒ½ã€‚</li>
                          </ul>
                      </div>
                      <a href="https://workspaceupdates.googleblog.com/" target="_blank" class="text-blue-600 text-xs font-bold uppercase tracking-widest">æŸ¥çœ‹è¯¦æƒ… â†’</a>
                  </div>
              </div>

              <footer class="mt-20 pt-8 border-t text-center text-gray-400 text-xs uppercase tracking-widest font-bold">
                  Â© 2026 Productivity Digest | Powered by Gemini | Data refreshed via Real-time Search.
              </footer>
          </body>
          </html>
          EOF

      - name: Deploy
        run: |
          git config --global user.name "github-actions"
          git config --global user.email "action@github.com"
          git add index.html
          git commit -m "Update daily report with all 6 brands" || exit 0
          git push

      - name: Notify WPS
        run: |
          curl -L -X POST "https://365.kdocs.cn/woa/api/v1/webhook/send?key=ff212f0845bcd36b168a850730de77fa" \
          -H "Content-Type: application/json" \
          -d "{\"msgtype\":\"text\",\"text\":{\"content\":\"ğŸš€ Productivity Digest | ä»Šæ—¥æ­£å¼æ—¥æŠ¥å·²ç”Ÿæˆ\n\nä»Šæ—¥æ ¸å¿ƒï¼šAI ä»£ç†åŒ–æµªæ½®å¸­å·åä½œå·¥å…·ã€‚\n\nğŸ”— ç½‘é¡µç‰ˆï¼ˆå·²åŒæ­¥ 6 å¤§å‚å•†åŠ¨æ€ï¼‰ï¼š\nhttps://kekeren97.github.io/MyBriefing/\"}}"
